---
title: CSS生效规则
date: 2023-04-16 9:00:00
categories: 
- web前端
- css
tags:
- CSS属性继承与层叠
- 块级元素与行内级元素
- 元素隐藏与内容溢出控制
---

# CSS的属性继承

CSS的某些属性具有继承性，在元素上设置这些属性，它的后代元素都可以继承这个属性。如果后代元素自己有设置该属性，优先使用后代元素自己的属性（不管继承过来的属性权重多高）。

常见的具有继承性的属性：font-size、font-family、font-weight、line-height、color、text-align

**注意：继承过来的是计算值，而不是设置值**





# CSS的属性层叠

对一个元素来说，相同属性可以通过不同的选择器多次设置，属性会被一层层覆盖，最终只有一个生效。

判断方法：

* 根据选择器的权重，权重大的生效
* 权重相同时，根据先后顺序判断，后设置的生效



为方便比较优先级，可以定义权值：

* !important：10000
* 内联样式：1000
* id选择器：100
* 类选择器、属性选择器、伪类：10
* 元素选择器、伪元素：1
* 通配符：0



| 选择器                                  | 千位 | 百位 | 十位 | 个位 | 优先级 |
| --------------------------------------- | ---- | ---- | ---- | ---- | ------ |
| h1                                      | 0    | 0    | 0    | 1    | 0001   |
| h1 + p::first-letter                    | 0    | 0    | 0    | 3    | 0003   |
| li > a[href*="en-US"] > .inline-warning | 0    | 0    | 2    | 2    | 0022   |
| #identifier                             | 0    | 1    | 0    | 0    | 0100   |
| 内联样式                                | 1    | 0    | 0    | 0    | 1000   |





# 元素类型

为了区分那些元素需要独占一行，哪些不需要，HTML元素分为两类：

* 块级元素(block-level elements)：独占父元素的一行
* 行内级元素(inline-level elements)：多个行内及元素可以在父元素的同一行中显示



CSS的display属性能修改元素显示类型，常用值：

* block：让元素显示为块级元素
* inline：让元素显示为行内级元素
* inline-block：让元素同时具备行内级、块级元素的特征
* none：隐藏元素



block元素：

* 独占父元素的一行
* 可以随意设置宽高
* 高度默认由内容决定



inline元素：

* 跟其他行内级元素在同一行显示
* 不可以随意设置宽高
* 宽高都由内容决定



inline-block元素：

* 跟其他行内级元素在同一行显示
* 可以随意设置宽高
* 默认宽度和高度由内容决定



一般情况下，块级元素、inline-block元素可以包含其他任何元素，但p元素不能包含其他块级元素。

行内级元素一般情况下只能包含行内级元素。





# 元素隐藏方法

* display设为none：元素不显示，也不占据空间
* visibility设为hidden：元素不可见，但会占据元素应该占据的空间
* rgba设置颜色，将a值设为0：透明度设为0，不影响子元素
* opacity设置为0：设置整个元素的透明度，会影响所有的子元素



# 元素溢出控制

overflow用于控制内容溢出时的行为：

* visible：溢出的内容照样可见
* hidden：溢出的内容直接裁剪
* scroll：溢出的内容被裁减，但可以通过滚动机制查看。会一直显示滚动条区域，滚动条区域占用的空间属于width、height
* auto：自动根据内容是否溢出决定是否提供滚动机制



# CSS样式不生效原因

有时编写的CSS属性不生效，可能原因有：

* 选择器的优先级太低
* 选择器没选中对应的元素
* CSS属性的使用形式不对
  * 元素不支持此CSS属性，如span默认不支持width和height
  * 浏览器不支持此CSS属性
  * 被同类型的CSS属性覆盖，如font覆盖font-size